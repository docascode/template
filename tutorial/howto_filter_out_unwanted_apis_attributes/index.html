
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="author" content="yufeih" />
<meta name="depot_name" content="." />
<meta name="document_id" content="c00481fd-fe19-084c-4a83-c07669a0542b" />
<meta name="document_version_independent_id" content="da0c5c03-23c0-bc86-ac5f-232f71f46212" />
<meta name="gitcommit" content="https://github.com/docascode/template/blob/b800b502012fd6e3c03390528278ff13ccbdfca9/samples/tutorial/howto_filter_out_unwanted_apis_attributes.md" />
<meta name="locale" content="en-us" />
<meta name="menu_path" content="../../menu.json" />
<meta name="original_content_git_url" content="https://github.com/docascode/template/blob/main/samples/tutorial/howto_filter_out_unwanted_apis_attributes.md" />
<meta name="rawTitle" content="<h1 id=&quot;how-to-filter-out-unwanted-apis-or-attributes&quot;>How-to: Filter Out Unwanted APIs or Attributes</h1>" />
<meta name="schema" content="Conceptual" />
<meta name="site_name" content="Docs" />
<meta name="toc_rel" content="../toc.json" />
<meta name="updated_at" content="2021-06-02 06:23 AM" />
<meta name="wordCount" content="706" />


  <title>How-to: Filter Out Unwanted APIs or Attributes</title>

  <link rel="stylesheet" href="../../dist/docfx.css">
</head>

<body>
  <header>
<nav class="navbar navbar-expand-md navbar-dark">
  <div class="container-xxl">
    <a class="navbar-brand" href="../../">
        Docfx
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar"></div>
  </div>
</nav>
  </header>

  <main class="container-xxl layout-conceptual page-type-conceptual">
        <nav class="layout-breadcrumb" id="breadcrumb" aria-label="breadcrumb"></nav>

      <nav class="layout-toc">
<div class="sticky-top navbar navbar-expand-md navbar-light bg-white">
  <a class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#toc-pannel" aria-controls="toc-pannel" aria-expanded="false">
    Table of Contents
  </a>
  <div class="collapse navbar-collapse" id="toc-pannel">
    <div>
      <input class="form-control" type="text" id="toc-filter" placeholder="Filter">
      <div class="toc" id="toc"></div>
    </div>
  </div>
</div>
      </nav>

      <article>
        <h1 id="how-to-filter-out-unwanted-apis-or-attributes">How-to: Filter Out Unwanted APIs or Attributes</h1>
<ul class="metabar">
  <li>
    <time datetime="6/2/2021">6/2/2021</time>
  </li>
  <li class="readingTime">3 minutes to read</li>
    <li class="contributors-holder">
        <ul class="contributors">
              <li>
                <a href="https://github.com/yufeih" title="Yufei Huang">
                  <img src="https://github.com/yufeih.png?size=32" role="presentation"/>
                </a>
              </li>
        </ul>
      </a>
    </li>
</ul>
        <p>A filter configuration file is in <a href="http://www.yaml.org/spec/1.2/spec.html" data-linktype="external">YAML</a> format. You may filter out unwanted APIs or attributes by providing a filter configuration file and specifying its path.</p>
<h2 id="specifying-the-filter-configuration-file-path">Specifying the filter configuration file path</h2>
<p>The path of the configuration file is specified in the following two ways. Option 1 could overwrite option 2.</p>
<ol>
<li><p>docfx.exe metadata command argument.</p>
<p><code>docfx.exe metadata --filter &lt;path relative to baseDir or absolutepath&gt;</code></p>
</li>
<li><p>docfx.json metadata section <code>filter</code> property.</p>
<p><strong>Sample</strong></p>
<pre><code>{
  &quot;metadata&quot;: [
    {
      &quot;src&quot;: [
        {
          &quot;files&quot;: [
            &quot;src/**.csproj&quot;
          ],
          &quot;exclude&quot;: [
            &quot;**/bin/**&quot;,
            &quot;**/obj/**&quot;
          ]
        }
      ],
      &quot;dest&quot;: &quot;obj/api&quot;,
      &quot;filter&quot;: &quot;filterConfig.yml&quot;
    }
  ]
}
</code></pre>
</li>
</ol>
<p>DocFX has a <a href="#3-default-filter-configuration" data-linktype="self-bookmark">default filter configuration</a>. If the user doesn't specify the filter configuration file path, default filter configuration would be used. Otherwise, user provided filter configuration would merge with the default one. If there is a conflict, user specified would overwrite the default one.</p>
<h2 id="the-format-of-the-filter-configuration-file">The format of the filter configuration file</h2>
<h3 id="1-api-filter-rules">1. API Filter Rules</h3>
<p>To filter out APIs, you could specify <code>apiRules</code> with a list of <code>exclude</code> or <code>include</code> rules.</p>
<div class="NOTE">
<h5>NOTE</h5>
<p>The rules would be executed sequentially and the matching process would stop once one rule is matched.
Namely, you need to put the most detailed rule in the top.
If no rule is matched the API would be included by default.</p>
</div>
<h4 id="1-exclude-or-include-apis-by-matching-their-uid-with-the-regex-uidregex">1) <code>exclude</code> or <code>include</code> APIs by matching their uid with the Regex <code>uidRegex</code>.</h4>
<p>The sample below excludes all APIs whose uids start with 'Microsoft.DevDiv' except those that start with 'Microsoft.DevDiv.SpecialCase'.</p>
<pre><code>  - include:
      uidRegex: ^Microsoft\.DevDiv\.SpecialCase
  - exclude:
      uidRegex: ^Microsoft\.DevDiv
</code></pre>
<h4 id="2-exclude-or-include-apis-by-matching-its-type-this-is-often-combined-with-uidregex">2) <code>exclude</code> or <code>include</code> APIs by matching its <code>type</code>, this is often combined with <code>uidRegex</code>.</h4>
<p>Supported <code>type</code>:</p>
<ul>
<li><code>Namespace</code></li>
<li><code>Type</code></li>
<li><code>Class</code></li>
<li><code>Struct</code></li>
<li><code>Enum</code></li>
<li><code>Interface</code></li>
<li><code>Delegate</code></li>
<li><code>Member</code></li>
<li><code>Event</code></li>
<li><code>Field</code></li>
<li><code>Method</code></li>
<li><code>Property</code></li>
</ul>
<div class="NOTE">
<h5>NOTE</h5>
<p><code>Type</code> could be <code>Class</code>, <code>Struct</code>, <code>Enum</code>, <code>Interface</code>, or <code>Delegate</code>. <code>Member</code> could be <code>Event</code>, <code>Field</code>, <code>Method</code>, or <code>Property</code>.</p>
<p><code>Namespace</code> is flattened. Namely, excluding namespace 'A.B' has nothing to do with namespace 'A.B.C'.</p>
</div>
<div class="IMPORTANT">
<h5>IMPORTANT</h5>
<p>If a namespace is excluded, all types/members defined in the namespace would also be excluded.
If a type is excluded, all members defined in the type would also be excluded.</p>
</div>
<p>The below sample would exclude all APIs whose uid starts with 'Microsoft.DevDiv' and type is <code>Type</code>, namely <code>Class</code>, <code>Struct</code>,
<code>Enum</code>, <code>Interface</code>, or <code>Delegate</code>.</p>
<pre><code>  - exclude:
      uidRegex: ^Microsoft\.DevDiv
      type: Type
</code></pre>
<h4 id="3-exclude-or-include-apis-by-containing-matched-attributes">3) <code>exclude</code> or <code>include</code> APIs by containing matched attributes.</h4>
<p>You can specify an attribute by its <code>uid</code>, <code>ctorArguments</code> and <code>ctorNamedArguments</code>.</p>
<div class="NOTE">
<h5>NOTE</h5>
<p><code>ctorArguments</code> requires a full match of the attribute's constructor arguments, while <code>ctorNamedArguments</code> supports a partial match.
Namely, <code>ctorArguments</code> should contain all the arguments while <code>ctorNamedArguments</code> could contain a subset of the named arguments.</p>
</div>
<p>The sample below excludes all APIs which have EditorBrowsableAttribute and its constructor argument is EditorBrowsableState.Never.</p>
<pre><code>  - exclude:
      hasAttribute:
        uid: System.ComponentModel.EditorBrowsableAttribute
        ctorArguments:
        - System.ComponentModel.EditorBrowsableState.Never
</code></pre>
<p>The sample below excludes all APIs which have AttributeUsageAttribute and its constructor argument is AttributeTargets.Class
and its constructor has named argument [Inherited] = true</p>
<pre><code>  - exclude:
    hasAttribute:
      uid: System.AttributeUsageAttribute
      ctorArguments:
      - System.AttributeTargets.Class
      ctorNamedArguments:
        Inherited: &quot;true&quot;
</code></pre>
<p>A complete <strong>Sample</strong> of the filter configuration file for filtering out APIs follows:</p>
<pre><code class="lang-yaml">apiRules:
- exclude:
    uidRegex: ^Microsoft\.TeamFoundation\.WorkItemTracking\.Proxy\.IRowSetsNative$
- exclude:
    uidRegex: ^Microsoft\.TeamFoundation\.WorkItemTracking\.Proxy\.MetadataRowSetsNative$
- exclude:
    uidRegex: ^Microsoft\.TeamFoundation\.WorkItemTracking\.Proxy\.RowSet\.Columns.*$
    type: Member
- exclude:
    uidRegex: ^Microsoft\.TeamFoundation\.WorkItemTracking\.Proxy\.RowSetColumn\.Name.*$
    type: Member
- exclude:
    hasAttribute:
      uid: System.ComponentModel.EditorBrowsableAttribute
      ctorArguments:
      - System.ComponentModel.EditorBrowsableState.Never
</code></pre>
<h3 id="2-attribute-filter-rules">2. Attribute Filter Rules</h3>
<p>To filter out Attributes, you could specify <code>attributeRules</code> with a list of <code>exclude</code> or <code>include</code> rules.</p>
<p>The rules are similar to API filter. Please refer to <a href="#1-api-filter-rules" data-linktype="self-bookmark">API Filter Rules</a> section.</p>
<h3 id="3-default-filter-configuration">3. Default Filter Configuration</h3>
<pre><code class="lang-yaml">apiRules:
- exclude:
    hasAttribute:
      uid: System.ComponentModel.EditorBrowsableAttribute
      ctorArguments:
      - System.ComponentModel.EditorBrowsableState.Never
attributeRules:
- exclude:
    uidRegex: ^System\.ComponentModel\.Design$
    type: Namespace
- exclude:
    uidRegex: ^System\.ComponentModel\.Design\.Serialization$
    type: Namespace
- exclude:
    uidRegex: ^System\.Xml\.Serialization$
    type: Namespace
- exclude:
    uidRegex: ^System\.Web\.Compilation$
    type: Namespace
- exclude:
    uidRegex: ^System\.Runtime\.Versioning$
    type: Namespace
- exclude:
    uidRegex: ^System\.Runtime\.ConstrainedExecution$
    type: Namespace
- exclude:
    uidRegex: ^System\.EnterpriseServices$
    type: Namespace
- exclude:
    uidRegex: ^System\.Diagnostics\.CodeAnalysis$
    type: Namespace
- include:
    uidRegex: ^System\.Diagnostics\.(ConditionalAttribute|EventLogPermissionAttribute|PerformanceCounterPermissionAttribute)$
    type: Type
- exclude:
    uidRegex: '^System\.Diagnostics\.[^.]+$'
    type: Type
- include:
    uidRegex: ^System\.ComponentModel\.(BindableAttribute|BrowsableAttribute|ComplexBindingPropertiesAttribute|DataObjectAttribute|DefaultBindingPropertyAttribute|ListBindableAttribute|LookupBindingPropertiesAttribute|SettingsBindableAttribute|TypeConverterAttribute)$
    type: Type
- exclude:
    uidRegex: '^System\.ComponentModel\.[^.]+$'
    type: Type
- exclude:
    uidRegex: ^System\.Reflection\.DefaultMemberAttribute$
    type: Type
- exclude:
    uidRegex: ^System\.CodeDom\.Compiler\.GeneratedCodeAttribute$
    type: Type
- include:
    uidRegex: ^System\.Runtime\.CompilerServices\.ExtensionAttribute$
    type: Type
- exclude:
    uidRegex: '^System\.Runtime\.CompilerServices\.[^.]+$'
    type: Type
- include:
    uidRegex: ^System\.Runtime\.InteropServices\.(ComVisibleAttribute|GuidAttribute|ClassInterfaceAttribute|InterfaceTypeAttribute)$
    type: Type
- exclude:
    uidRegex: '^System\.Runtime\.InteropServices\.[^.]+$'
    type: Type
- include:
    uidRegex: ^System\.Security\.(SecurityCriticalAttribute|SecurityTreatAsSafeAttribute|AllowPartiallyTrustedCallersAttribute)$
    type: Type
- exclude:
    uidRegex: '^System\.Security\.[^.]+$'
    type: Type
- include:
    uidRegex: ^System\.Web\.UI\.(ControlValuePropertyAttribute|PersistenceModeAttribute|ValidationPropertyAttribute|WebResourceAttribute|TemplateContainerAttribute|ThemeableAttribute|TemplateInstanceAttribute)$
    type: Type
- exclude:
    uidRegex: '^System\.Web\.UI\.[^.]+$'
    type: Type
- include:
    uidRegex: ^System\.Windows\.Markup\.(ConstructorArgumentAttribute|DesignerSerializationOptionsAttribute|ValueSerializerAttribute|XmlnsCompatibleWithAttribute|XmlnsDefinitionAttribute|XmlnsPrefixAttribute)$
    type: Type
- exclude:
    uidRegex: '^System\.Windows\.Markup\.[^.]+$'
    type: Type
</code></pre>


        <a class="edit-this-page" href="https://github.com/docascode/template/blob/main/samples/tutorial/howto_filter_out_unwanted_apis_attributes.md">
          <svg xmlns="http://www.w3.org/2000/svg" height="1em" fill="currentColor" stroke="currentColor" viewBox="0 0 448 448">
            <path d="M426.01 21.914c-29.252-29.216-76.87-29.22-106.127-.008l-.008-.008-283.91 284.744L0 448l141.236-34.39 285.413-289.5C446.33 104.45 448 93.188 448 74.917c0-20.028-7.81-38.856-21.99-53.002zM44.437 402.99l18.206-72.676c26.932 6.47 48.067 27.627 54.44 54.56L44.436 402.99zm40.297-99.93L307.14 80.91l59.81 59.707-222.55 222.28c-10.78-27.27-32.407-48.978-59.667-59.837zm318.163-198.245l-.058-.042-12.72 12.7-59.807-59.71L343.04 45.05l.008.008c16.516-16.463 43.338-16.463 59.79 0 8.002 7.976 12.387 18.573 12.387 29.857 0 11.268-4.385 21.865-12.387 29.84l.058.06z"/>
          </svg>
          Edit this page on GitHub
        </a>
      </article>

      <aside>
        <div class="sticky-top">
          <nav id="in-this-article" class="in-this-article"></nav>
        </div>
      </aside>
  </main>

  <footer>
<div class="container-xxl">
    © Microsoft

    <div class="github-star-button">
      <iframe src="https://ghbtns.com/github-btn?user=docascode&repo=template&type=star&count=true" frameborder="0" scrolling="0" width="150" height="20" title="GitHub"></iframe>
    </div>
</div>
  </footer>

  <script type="text/javascript" src="../../dist/docfx.js"></script>
</body>

</html>